!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).$doing=t()}(this,(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e){return Object.prototype.toString.call(e).replace(/\[|\]/g,"").split(" ")[1].toLowerCase()}function r(e){return function(r){return t(e)===r.toLowerCase()}}var n={mobile:/^(0|86|17951)?(13[0-9]|15[0123456789]|17[678]|18[0-9]|14[57])[0-9]{8}$/,email:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/,card:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/};function o(e){return Object.keys(e).length}function i(e){var t=r(e);return t("null")&&t("undefined")}function c(e,t,n){for(var o in e){if(!n)break;if(!t.hasOwnProperty(o)){n=!1;break}if(r(e[o])("array")){if(!r(t[o])("array")){n=!1;break}var a=e[o],u=t[o];if(a.length!==u.length){n=!1;break}for(var f in a){if(!n)break;n=c(a[f],u[f],n)}}else if(r(e[o])("object"))n=c(e[o],t[o],n);else if(i(e[o])||i(t[o])){if(t[o]!==e[o]){n=!1;break}}else if(t[o].toString()!==e[o].toString()){n=!1;break}}return n}return{dateFormat:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd",r=new Date(e),n={"M+":r.getMonth()+1,"d+":r.getDate(),"h+":r.getHours(),"m+":r.getMinutes(),"s+":r.getSeconds(),"q+":Math.floor((r.getMonth()+3)/3)};for(var o in/(y+)/g.test(t)&&(t=t.replace(RegExp.$1,"".concat(r.getFullYear()).substr(4-RegExp.$1.length))),n)new RegExp("(".concat(o,")")).test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?"".concat(n[o]):"00".concat(n[o]).substr("".concat(n[o]).length)));return t},parseString:function(t){var r=e(t);if("string"!==r)throw Error("Expected string type, but passed in a"+r);var n=t.indexOf("?");return n<0?{}:decodeURIComponent(t).slice(n+1).split("&").reduce((function(e,t){var r=t.split("=");return e[r[0]]=r[1],e}),{})},parseObject:function(t){var r=e(t);if(t instanceof Object)throw Error("Expected string type, but passed in a"+r);return Object.entries(search).reduce((function(e,t){return"".concat(e).concat(t[0],"=").concat(t[1],"&")}),"").replace(/&$/,"")},parseKey:function(e,t){for(var n=t.split("."),o=0;o<n.length;o++){var i=r(e=e[n[o]]);if(i("object")&&!Object.keys(e).length)return null;if(i("array")&&!e.length)return null;if(!e)return null}return e},formatNumber:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"!=typeof e||"number"!=typeof e)throw Error("Expected string or numeric type");return e=e.toString(),!1===t?e.replace(/^(0+)|[^\d]+/g,""):e=(e=(e=(e=(e=e.replace(/[^\d.]/g,"")).replace(/^\./g,"")).replace(/\.{2,}/g,"")).replace(".","$#$").replace(/\./g,"").replace("$#$",".")).replace(/^(-)*(\d+)\.(\d\d).*$/,"$1$2.$3")},getType:t,checkType:r,regEx:n,regMobile:function(e){return n.mobile.test(e)},regEmail:function(e){return n.email.test(e)},regCard:function(e){return n.card.test(e)},clone:function t(n){var o=r(n);if(o("array"))return n.map((function(r){return"object"===e(r)?t(r):r}));if(o("object")){var i={};for(var c in n)i[c]="object"===e(n[c])?t(n[c]):n[c];return i}if(o("function"))return new Function("return "+n.toString())();if(o("map")){var a=new Map;return n.keys().forEach((function(e){a.set(e,n.get(e))})),a}return n},compare:function(e,t){return!(!r(e)("object")||!r(t)("object"))&&(o(e)===o(t)&&c(e,t,!0))}}}));
